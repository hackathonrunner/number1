var INTERCAST=function(a,b){"use strict";var c={rectangle:{w:180,h:150},leaderboard:{w:728,h:90},vpaid:{w:350,h:196},leaderboard_static:{w:728,h:90},large_rectangle:{w:336,h:280},medium_rectangle:{w:300,h:250},medium_rectangle_pre_rec:{w:300,h:250},medium_rectangle_pre_rec_no_cta:{w:300,h:250},medium_rectangle_static:{w:300,h:250},vertical_rectangle:{w:240,h:400},skyscraper:{w:120,h:600},wide_skyscraper:{w:160,h:600},half_page:{w:300,h:600},half_page_pre_rec:{w:300,h:600},half_page_pre_rec_no_cta:{w:300,h:600},half_page_static:{w:300,h:600},billboard_pre_rec:{w:970,h:250},billboard_pre_rec_no_cta:{w:970,h:250},dual_artwork_half_page_pre_rec:{w:300,h:600}},d={overlay_key:"frame",analytics_service:"intercast",domains:{http:{cdn:"cdn.amp.live",api:"onintercast.com"},https:{cdn:"cdn.amp.live",api:"onintercast.com"}},urlExtractionDepth:2},e={setAttributes:function(a,b){var c;try{for(c in b)b.hasOwnProperty(c)&&("style"===c?a.style.cssText=b[c]:a.setAttribute(c,b[c]))}catch(a){}return a},addEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},click:function(a,b){this.addEvent(a,"click",b)},mouseInEvent:function(a,b){this.addEvent(a,"mouseover",b)},appendChildren:function(){var a,b=Array.prototype.slice.call(arguments),c=b.shift();for(a in b)b.hasOwnProperty(a)&&c.appendChild(b[a])},getScreenDim:function(){var c=g.isInFriendlyFrame()||b.body,d=g.isInFriendlyFrame()?parent.window:a,e="inner";return"innerWidth"in d||(e="client",d=b.documentElement||c),{width:d[e+"Width"],height:d[e+"Height"]}},create:function(a,c,d){var e,f=b.createElement(a);if(c&&this.setAttributes(f,c),d)for(e in d)d.hasOwnProperty(e)&&this.addEvent(f,e,d[e]);return f},getHeightStyle:function(){return["height: ",this.getScreenDim().height,"px"].join("")},getPositionStyle:function(){var a=i.getWH().h-10,b=this.getScreenDim().height,c=Math.max(0,Math.round((b-a)/2));return["margin-top: ",c,"px"].join("")},isElementInViewport:function(a){var b=1,c=1,d=a.getBoundingClientRect().top,e=a.getBoundingClientRect().bottom,f=a.getBoundingClientRect().height,g=f*(1-b),h=f*(1-c),i=f>0&&d>=-g&&e<=window.innerHeight+g,j=f>0&&d>=-h&&e<=window.innerHeight+h;return{visible:i,engaged:j}},createScript:function(a){var b=document.createElement("script");b.src=a,document.getElementsByTagName("head")[0].appendChild(b)}},f={each:function(a,b,c){if(a)for(var d in a)a.hasOwnProperty(d)&&b.apply(c,[a[d],d])},getUapWH:function(a){return console.log(a),c[a]?c[a]:"object"==typeof a&&a.width&&a.height?{w:a.width,h:a.height}:c.leaderboard},getApiDomain:function(a){var b=location.protocol;"http:"===b&&"https:"===b||(b="https:");var c="https:"===b?d.domains.https:d.domains.http,e=c.api;return a.api_domain&&(e=a.api_domain),b+"//"+e},extractPageUrl:function(a){return decodeURIComponent(a.protocol+"//"+a.hostname)},getPageUrl:function(){var a=this.extractPageUrl(b.location);if(g.isTrapped()){if(!g.isAvailable())return a;a=this.extractPageUrl(g.getParentLocation())}return a},getSizeString:function(a){return"object"==typeof a&&a.width&&a.height&&(a=a.width+"x"+a.height),a},serialize:function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b+"="+encodeURIComponent(a[b]));return c.join("&")}},g=function(){var c,d,g,h,i,j="buster-handshake-request",k=parent,m=function(){for(var a,c=b.scripts,d="ad.doubleclick.net/adj",e=0;e<c.length;e++)if(c[e].src.indexOf(d)!==-1)return a=c[e].src,decodeURIComponent(a.match(new RegExp("click=(.*);"))[1]);return!1},n=function(){var a="INTERCAST_IFRAME_BUSTER_SRC";window[a]?e.appendChildren(b.body,e.create("iframe",{src:window[a]+"?&o="+b.location.origin,style:"display:none"})):console.log(a+" not defined")};return{getParentLocation:function(){return h},init:function(b){a.inFIF||a.inDapIF?(d=!1,g=!0,h=a.parent.location,i=a.parent.document.body,a.parent.adsCkCol=function(a){i=a.parentElement;var c=f.getUapWH(b[0].config.size);a.style.cssText="width:"+c.w+"px;height:"+c.h+"px"}):(d=this.isTrapped(),d&&(l.on(null,function(a,b){a.fn===j&&(k=b.source,c=!0,h=a.loc)}),n()))},isTrapped:function(){return void 0===d&&(d=a!=a.top),d},isAvailable:function(){return void 0===c&&(c=!1),c},isInFriendlyFrame:function(){return g},injectEnvParams:function(a){if(g){var b=m();b&&(a.link=b)}return a},getParentElement:function(){return i},notify:function(a){l.send(null,a,{},k)},force:function(a,b){void 0!==a&&(c=a),void 0!==b&&(d=b)}}}();!function(){window.visibly={q:document,p:void 0,prefixes:["webkit","ms","o","moz","khtml"],props:["VisibilityState","visibilitychange","Hidden"],m:["focus","blur"],visibleCallbacks:[],hiddenCallbacks:[],genericCallbacks:[],_callbacks:[],cachedPrefix:"",fn:null,onVisible:function(a){"function"==typeof a&&this.visibleCallbacks.push(a)},onHidden:function(a){"function"==typeof a&&this.hiddenCallbacks.push(a)},getPrefix:function(){if(!this.cachedPrefix)for(var a,b=0;a=this.prefixes[b++];)if(a+this.props[2]in this.q)return this.cachedPrefix=a,this.cachedPrefix},visibilityState:function(){return this._getProp(0)},hidden:function(){return this._getProp(2)},visibilitychange:function(a){"function"==typeof a&&this.genericCallbacks.push(a);var b=this.genericCallbacks.length;if(b)if(this.cachedPrefix)for(;b--;)this.genericCallbacks[b].call(this,this.visibilityState());else for(;b--;)this.genericCallbacks[b].call(this,arguments[0])},isSupported:function(a){return this._getPropName(2)in this.q},_getPropName:function(a){return""==this.cachedPrefix?this.props[a].substring(0,1).toLowerCase()+this.props[a].substring(1):this.cachedPrefix+this.props[a]},_getProp:function(a){return this.q[this._getPropName(a)]},_execute:function(a){if(a){this._callbacks=1==a?this.visibleCallbacks:this.hiddenCallbacks;for(var b=this._callbacks.length;b--;)this._callbacks[b]()}},_visible:function(){window.visibly._execute(1),window.visibly.visibilitychange.call(window.visibly,"visible")},_hidden:function(){window.visibly._execute(2),window.visibly.visibilitychange.call(window.visibly,"hidden")},_nativeSwitch:function(){this[this._getProp(2)?"_hidden":"_visible"]()},_listen:function(){try{this.isSupported()?this.q.addEventListener(this._getPropName(1),function(){window.visibly._nativeSwitch.apply(window.visibly,arguments)},1):this.q.addEventListener?(window.addEventListener(this.m[0],this._visible,1),window.addEventListener(this.m[1],this._hidden,1)):this.q.attachEvent&&(this.q.attachEvent("onfocusin",this._visible),this.q.attachEvent("onfocusout",this._hidden))}catch(a){}},init:function(){this.getPrefix(),this._listen()}},window.visibly.init()}();var h=function(){var a={},b=0,c={amplive_5s:{interval:5,created:!1,active:!1,url:null},amplive_30s:{interval:30,created:!1,active:!1,url:null},amplive_1m:{interval:60,created:!1,active:!1,url:null},amplive_2m:{interval:120,created:!1,active:!1,url:null},amplive_5m:{interval:300,created:!1,active:!1,url:null}},d=[30,60,120,300],e=function(){return b},m=function(a){var b,c,d,e,f,g,h={};if(a&&a.split("?").length>1)for(b=a.split("?")[1],c=b.split("&"),e=0;e<c.length;e++)if(d=c[e].split("="),2===d.length){f=decodeURIComponent(d[0]);try{g=decodeURIComponent(d[1])}catch(a){g=""}/{([A-Z_-]+)}/.test(g)||"${CLICK_URL_ENC}"==g||"${REFERER_URL_ENC}"==g||"{clickMacroEnc}"==g||"{pageUrlEnc}"==g||"%%CLICK_URL_UNESC%%"==g||"%%TTD_CLK_ESC%%"==g||"%%TTD_SITE%%"==g||"%c"==g||(h[f]=g)}return h},n=function(a,b,e,f){if("action"===a.fn){var h=e.getConfig();i.expand(h,e),k.expand(h,f),l.send(e.getElement(),"campaign_viewed",{campaign_id:h.campaign_id,company_id:h.company_id}),e.dcm_clickstring&&k.urlToPixel(e.dcm_clickstring)}if("handshake"===a.fn){var j=a.data;if(e.setConfig(j),"vpaid"!==a.data.size&&k.impression(j,f,a.uuid,a.new_campaign,a.new_company,g.isTrapped()),e.loaded=!0,l.send(e.getElement(),"banner_vars_after_load",{banner:e,config:e.getConfig()}),j.amplive)for(var m in c)"undefined"!=typeof j.amplive[m]&&""!=j.amplive[m]&&(c[m].active=!0,c[m].url=j.amplive[m])}if("videoImpression"===a.fn&&k.videoImpression(e.getConfig(),a.data.videoId),"env"===a.fn){var n={buster:{isTrapped:g.isTrapped(),isAvailable:g.isAvailable()}};l.send(e.getElement(),"env",n)}if("open_url"==a.fn&&window.open(a.data),"unmute"===a.fn){var j=a.data;e.setConfig(j),k.unmute(e.getConfig(j),f),l.send(e.getElement(),"campaign_viewed",{campaign_id:h.campaign_id,company_id:h.company_id})}if("hidden_view"===a.fn){var j=a.data;if(e.setConfig(j),!e.hasBeenTriggeredView){var h=e.getConfig(),f={};"undefined"!=typeof e.sellerid&&(f.sellerid=e.sellerid),"undefined"!=typeof e.boostid&&(f.boostid=e.boostid),"undefined"!=typeof e.referral_url&&(f.referral_url=e.referral_url),h.switched&&(h.banner_id=h.switch_with_banner,h.campaign_id=h.switch_with_campaign),k.view(h,f),k.createProfilingIframe(h),e.hasBeenTriggeredView=!0,l.send(e.getElement(),"campaign_viewed",{campaign_id:h.campaign_id,company_id:h.company_id})}}if("hidden_count"===a.fn){if(window.visibly.hidden())return;var j=a.data;e.secondsOnline;if(e.secondsOnline++,e.overallSeconds++,e.mouseOverTriggered&&"vpaid"!==a.data.size||e.showSkip){if(0==e.secondsForEngaged)for(var m=d.length-1;m>=0;m--)if(d[m]<e.secondsOnline){k.timeSpentEvent(e.getConfig(),f,"timespent_"+d[m]+"s");break}e.secondsForEngaged++;var o=5;if(e.secondsForEngaged>=o){var j=a.data;e.setConfig(j),"undefined"!=typeof e.sellerid&&(f.sellerid=e.sellerid),"undefined"!=typeof e.referral_url&&(f.referral_url=e.referral_url),e.hasBeenTriggeredEngaged=!0,k.engagedView(e.getConfig(j),f)}for(var m in c)c[m].active&&c[m].interval==e.secondsForEngaged&&(c[m].created||(k.urlToPixel(k.currentTimestampToVariable(c[m].url)),c[m].created=!0));for(var m=0;m<d.length&&d[m]<=e.secondsOnline;m++)if(d[m]==e.secondsOnline){k.timeSpentEvent(e.getConfig(),f,"timespent_"+d[m]+"s");break}}}"hidden_mouseover"===a.fn&&(e.mouseOverTriggered=!0),"vpaid_impression"===a.fn&&(e.setConfig(a.data),k.impression(a.data,f,a.uuid,a.new_campaign,a.new_company,g.isTrapped())),"player_showskip"===a.fn&&(e.showSkip=!0)},o=function(c,d,e,g){a[c]=d,b+=1,d.secondsOnline=0,d.overallSeconds=0,d.secondsForEngaged=0,l.on(f.getApiDomain(e),function(a){a.banner_id==e.banner_id&&n(a,c,d,g)})};return{add:function(a,b){var c=e(),d=new j(c,a),f=m(b.getAttribute("src"));return h.addParamsToBanner(d,b),o(c,d,a,f),d.inject(b),d},addParamsToBanner:function(a,b){var c=m(b.getAttribute("src"));a.getConfig();c.sellerid&&(a.sellerid=c.sellerid),c.boostid&&(a.boostid=c.boostid),a.debug=c.debug||c.preview,c.dcm_clickstring&&"%c"!==c.dcm_clickstring&&(a.dcm_clickstring=c.dcm_clickstring),c.click_macro&&(a.click_macro=c.click_macro),c.referral_url&&(a.referral_url=c.referral_url)},sendBannerTime:function(){f.each(a,function(a){var b=a.getConfig();a.debug&&(b.debug=a.debug),a.boostid&&(b.boostid=a.boostid);var c=a.secondsOnline;try{var d=parseInt(b.video[b.video.source].roadblock_time);console.log(b.video[b.video.source].roadblock_time,c),d&&d>0&&c>d&&(c=d)}catch(a){}k.watch(b,c,a.hasBeenTriggeredView,a.hasBeenTriggeredEngaged)})},getBannerConfig:function(b){return a[b].getConfig()},notifyCollapsed:function(){var b,c;for(b in a)if(a.hasOwnProperty(b)){c=a[b].getElement();try{l.send(c,"collapse")}catch(a){}}}}}(),i=(function(){var a={},b=0,c={amplive_5s:{timeout_handler:null,interval:5,created:!1,active:!1,url:null},amplive_30s:{timeout_handler:null,interval:30,created:!1,active:!1,url:null},amplive_1m:{timeout_handler:null,interval:60,created:!1,active:!1,url:null},amplive_2m:{timeout_handler:null,interval:120,created:!1,active:!1,url:null},amplive_5m:{timeout_handler:null,interval:300,created:!1,active:!1,url:null}},d=!1,m=!1,n=function(){return b},o=function(a){var b,c,d,e,f,g,h={};if(a&&a.split("?").length>1)for(b=a.split("?")[1],c=b.split("&"),e=0;e<c.length;e++)if(d=c[e].split("="),2===d.length){f=decodeURIComponent(d[0]);try{g=decodeURIComponent(d[1])}catch(a){g=""}/{([A-Z_-]+)}/.test(g)||"${CLICK_URL_ENC}"==g||"${REFERER_URL_ENC}"==g||"{clickMacroEnc}"==g||"{pageUrlEnc}"==g||"%%CLICK_URL_UNESC%%"==g||"%%TTD_CLK_ESC%%"==g||"%%TTD_SITE%%"==g||"%c"==g?console.log("INTERCAST: Ignoring macro param: "+f+"="+g):h[f]=g}return h},p=function(a,b,d,e){if("action"===a.fn){var f=d.getConfig();i.expand(f,d),k.expand(f,e),d.dcm_clickstring&&k.urlToPixel(d.dcm_clickstring)}if("open_url"==a.fn&&window.open(a.data),"unmute"===a.fn){var h=a.data;d.setConfig(h),k.unmute(d.getConfig(h),e)}if("trapped_view"===a.fn&&g.isTrapped()){var h=a.data;d.setConfig(h),k.view(d.getConfig(h),e)}if("trapped_engaged_view"===a.fn&&g.isTrapped()){console.log("got data");var h=a.data;d.setConfig(h),k.engagedView(d.getConfig(h),e)}if("handshake"===a.fn){var h=a.data;if(d.setConfig(h),k.impression(h,e,a.new_viewer),g.isTrapped()&&k.trapped(h,e),d.loaded=!0,l.send(d.getElement(),"banner_vars_after_load",{banner:d,config:d.getConfig()}),h.amplive)for(var j in c)"undefined"!=typeof h.amplive[j]&&""!=h.amplive[j]&&(c[j].active=!0,c[j].url=h.amplive[j])}if("videoImpression"===a.fn&&k.videoImpression(d.getConfig(),a.data.videoId),"env"===a.fn){var m={buster:{isTrapped:g.isTrapped(),isAvailable:g.isAvailable()}};l.send(d.getElement(),"env",m)}},q=function(a){if(a.timeout1){clearTimeout(a.timeout1),clearTimeout(a.timeout2);for(var b in c)clearTimeout(c[b].timeout_handler)}},r=function(a,b,c){g.isTrapped()||(q(b),b.hasBeenTriggeredView||(b.timeout1=setTimeout(function(){if(!b.hasBeenTriggeredView){var a=b.getConfig(),c={};"undefined"!=typeof b.sellerid&&(c.sellerid=b.sellerid),"undefined"!=typeof b.referral_url&&(c.referral_url=b.referral_url),a.switched&&(a.banner_id=a.switch_with_banner,a.campaign_id=a.switch_with_campaign),k.view(a,c),k.createProfilingIframe(a),b.hasBeenTriggeredView=!0}},5e3)))},s=function(a){if(!a.counterStarted){if(a.counterStarted=!0,a.overallSeconds=0,a.secondsOnline=0,a.secondsOnline&&1800==a.secondsOnline)return;var b=/.*\.adnxs\..*/;if(b.test(f.getPageUrl()))return;var c=a.getElement(),d=e.isElementInViewport(c);setInterval(function(){d.visible&&"visible"===document.visibilityState&&(a.secondsOnline+=1,a.overallSeconds+=1)},1e3)}},t=function(c,d,e,g){a[c]=d,b+=1,l.on(f.getApiDomain(e),function(a){a.banner_id==e.banner_id&&p(a,c,d,g)})};return{visibilityChangeWasHandled:!1,sendBannerTime:function(){f.each(a,function(a){var b=a.getConfig();k.watch(b,a.secondsOnline,a.hasBeenTriggeredView,a.hasBeenTriggeredEngaged)})},add:function(a,b){var c=n(),d=new j(c,a),e=o(b.getAttribute("src"));return h.addParamsToBanner(d,b),t(c,d,a,e),d.inject(b),d},addParamsToBanner:function(a,b){var c=o(b.getAttribute("src"));a.getConfig();c.sellerid&&(a.sellerid=c.sellerid),a.debug=c.debug||c.preview,c.boost_id&&(a.boost_id=c.boost_id),c.dcm_clickstring&&"%c"!==c.dcm_clickstring&&(a.dcm_clickstring=c.dcm_clickstring),c.click_macro&&(a.click_macro=c.click_macro),c.referral_url&&(a.referral_url=c.referral_url)},getBannerConfig:function(b){return a[b].getConfig()},notifyCollapsed:function(){var b,c;for(b in a)if(a.hasOwnProperty(b)){c=a[b].getElement();try{l.send(c,"collapse")}catch(a){}}},handleVisibilityChange:function(){f.each(a,function(a){var b=a.getElement(),c=e.isElementInViewport(b);c.visible&&"visible"===document.visibilityState?r(b,a,c):q(a)}),d||(d=!0,h.handleBannerSpentTime()),m||(m=!0,h.handleEngagedView()),h.visibilityChangeWasHandled=!0},handleBannerSpentTime:function(){f.each(a,function(a){s(a)})},handleEngagedView:function(){g.isTrapped()||f.each(a,function(a){var b=a.getElement();e.mouseInEvent(b,function(){var d=e.isElementInViewport(b),f=d.visible&&"visible"===document.visibilityState;!a.hasBeenTriggeredEngaged&&f&&(a.timeout2=setTimeout(function(){if(!a.hasBeenTriggeredEngaged){var b=a.getConfig(),c={};"undefined"!=typeof a.sellerid&&(c.sellerid=a.sellerid),"undefined"!=typeof a.referral_url&&(c.referral_url=a.referral_url),k.engagedView(b,c),a.hasBeenTriggeredEngaged=!0}},5e3));for(var g in c)c[g].active&&!c[g].created&&f&&(c[g].timeout_handler=setTimeout(function(a){c[a].created||(k.urlToPixel(k.currentTimestampToVariable(c[a].url)),c[a].created=!0)},1e3*c[g].interval,g))})})}}}(),function(){var c,i,j,l=b.body,m=["#intercast-overlay, #intercast-overlay-bg {  position: fixed; display:block; top: 0; left: 0; height:100%; width:100%; }","#intercast-overlay { z-index: 9999999999; border: none; margin: 0; padding: 0; text-align:center; }","#intercast-overlay-bg { background: #343434; opacity: 0.8; box-sizing: content-box; z-index:1000000001 ; filter: alpha(opacity=80); -moz-opacity: 0.8; content: ' ';}","#intercast-overlay-frame { z-index: 1000000002; border:none; }","#intercast-overlay-frame-wrap { overflow: visible; position: relative; margin: 100px auto; width: 810px; left:0; right:0; z-index:10000000000; }","#intercast-overlay-close-btn { display: block; position:absolute; top: 0px; right: -40px; z-index:999; width:30px; height:30px; background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAy1JREFUeNqsl1tIlFEQx/dSGkVqphEVZVn0UKiQVpKJJEh2Qcou0O3JFozIIpPw0Yh6KAKDil56s7cICiorQySoyEtaUQYRFpklmXkpqdz+A7MwDHO+3bUGfuzumXNmvu/MnJmz/nA47ItBksESsAbkgQyQAvzgG3gPWkELeA0Golokxx6kg93gLvgTjk1aQAWY42Xby2kJO5yoPASb43VcDQbC/y7DoA4kaB9+I8anwDEQNCLTCe6BbtDPY6lgMVgHch0RvQiOgDFXjKsdsXwMSjnmk4wdCoKZoAg8cLz9SddWU0y/qsk/ecFUnuOPkow+3tZaMKRs/QDl2vEM40nHwP4YHLnYxTGW0grmScd7jK05wbpEUAAOgKUejmaDEIckEo6jht0q2jlSTgdNSvkETOHFheAFj7eBPMPpAnAD/Aa9/CKR2Dcq250gjZQrwC+lLBFGDyndc7BK6DPALTXnEgiwPtdI2GJSHDaeKFUk0jKOjZ6TRU8ObipdD1gvknGakT+nSdmgBs8YRyaf31RKO5dHKZ/ATiMUtWpeo49Lm5SQI3lWG86l9IEdjrXb1dwuGnypBrd6ZG6Ose0kH8T2WhSpOL8LUPHyxS4fwXdjfBT0eDVBPUCOB9VYqmPxQnAFFBo66tUNIN+xNp19RWQkwE1cSqbRIGjsAtggDPSCt2JONrgMCgzHmep3L+1/jYrXU5As4pNpHAfK3k0gm7NbyiuudJH1VOdvqzlnI9mqD/hajwJCTrcJPRWTLo8CksV1X0qpj99OH6lmcZY3gi8ie8uNrKUy2iGaS5XQXVe2u8GsSHWpMI5IjWhzVBTqqdR5HJnltIXgoAhVyGE3IDvLIzVhhFubbPbRWmFAfC8z+jsVoEX6IlDGzqQM8RMG47gIEJWgX9miPNrnuuzVOcrhHbASpHg4S+YsvwbGDRv1Xpe9RHAOVBpncRw0gybwBnzmipTGBYQKSzGYbKy9yjYHvS70CXzPGv0P11vq8+dBUjwX+i1cTCYqdGvZ68qLaEkynwtIexwOqdsd54rntO2P8U8bxTGHY0ifc0ES64a5bj8D90Eb6Itm8K8AAwDcIJw/K1KBpQAAAABJRU5ErkJggg==') no-repeat center 0; opacity: 0.8; }","#intercast-overlay-close-btn:hover { opacity: 1; }"].join(""),n={w:810,h:620},o={wrap_id:"intercast-overlay",bg_id:"intercast-overlay-bg",frame_id:"intercast-overlay-frame",frame_wrap_id:"intercast-overlay-frame-wrap",branding_id:"intercast-overlay-branding",close_btn_id:"intercast-overlay-close-btn",inner_class:"intercast-inner"},p=function(){if(c){try{c.children[2].children[1].src="about:blank"}catch(a){}l.removeChild(c),c=null,j.show()}return h.notifyCollapsed(),g.isTrapped()&&g.notify("collapse"),!1},q=function(a){var b;return a.frame_size&&(b=a.frame_size,n.w=isNaN(b.width)?n.w:b.width,n.h=isNaN(b.height)?n.h:b.height,console.log(a)),"imagine"===a.campaign_id&&(n.h=600),"fiat"===a.campaign_id&&(n.h=600),"gro"===a.campaign_id&&(n.h=600),"chrysler"===a.campaign_id&&(n.h=600),"jeep"===a.campaign_id&&(n.h=600),"dodge"===a.campaign_id&&(n.h=600),"ram"===a.campaign_id&&(n.h=600),n},r=function(a){var b=location.protocol,c=a.api_domain||d.domains.api[b],e=a.campaign_id,g=a.overlay_key||d.overlay_key,h=[b,"",c,e,g].join("/"),i=k.getFrameParams(a);h=a.frame_url||h;var j=h+"?"+f.serialize(i);return a.dfa.active&&a.dfa.click_tracking_url&&(j=a.dfa.click_tracking_url+"?"+encodeURI(j)),j},s=function(){return o.frame_id},t=function(){return o.wrap_id},u={getCss:function(){var a=b.createElement("style"),c=b.createTextNode(m);return a.type="text/css",a.styleSheet?a.styleSheet.cssText=c.nodeValue:a.appendChild(c),a},getBackground:function(){var b=e.create("div",{id:o.bg_id},{click:p}),c=function(){e.setAttributes(b,{style:e.getHeightStyle()})};return c(),e.addEvent(a,"resize",c),b},getInner:function(b){var c=q(b),d={id:s(),src:r(b),width:c.w,height:c.h,frameBorder:0,allowTransparency:"true"},f=e.create("iframe",d),g=["width: ",c.w,"px; height: ",c.h+2,"px"].join(""),h=e.create("div",{id:o.frame_wrap_id,style:g}),i=e.create("a",{id:o.close_btn_id,href:"#"},{click:p}),j=e.create("div",{id:o.branding_id});e.appendChildren(h,i,f,j);var k=function(){e.setAttributes(h,{style:e.getPositionStyle()})};return k(),e.addEvent(a,"resize",k),h}};return{expand:function(a,b){if(!c){i=a;var d=g.isTrapped(),f="overlay"===a.action.target,h=g.isAvailable();f&&(!d||d&&h)&&(d&&(g.notify("expand"),b.hide()),c=e.create("div",{id:t()}),e.appendChildren(c,u.getCss(),u.getBackground(),u.getInner(a)),g.isInFriendlyFrame()&&(l=g.getParentElement()),l.appendChild(c)),j=b}},collapse:function(){p()},getWH:function(){return q(i)}}}()),j=function(a,b){var c={getUrl:function(){return b.banner_url?b.banner_url:"dashboard.amp.live"===window.location.host?[f.getApiDomain(b),b.campaign_id,"banner",b.banner_id].join("/")+"?preview=true":"dashboard.onintercast.dev"===window.location.host?[f.getApiDomain(b),b.campaign_id,"banner",b.banner_id].join("/")+"?debug=true":b.banner_id>368?"staging-dashboard.amp.live"===window.location.host?[f.getApiDomain(b),b.campaign_id,"banner",b.banner_id].join("/"):"staging-events.amp.live"==b.api_domain?[f.getApiDomain(b),b.campaign_id,"banner",b.banner_id].join("/"):["//cdn.amp.live/campaigns",b.campaign_id,"banners",b.banner_id,"deployed.html"].join("/"):[f.getApiDomain(b),b.campaign_id,"banner",b.banner_id].join("/")}},d=function(){var a=f.getUapWH(b.size),d=c.getUrl(),g={src:d,width:a.w,height:a.h,frameBorder:0};return e.create("iframe",g)},g=d();return{inject:function(a){a.parentNode.insertBefore(g,a)},getConfig:function(){return b},setConfig:function(a){b=a},getElement:function(){return g},hide:function(){this.od=g.style.display,g.style.display="none"},show:function(){void 0!==this.od&&(g.style.display=this.od,this.od=void 0)}}},k=function(){var a,c=6e4,d=!1,h=!1,i=!1,j=!1,l=!1,m=!1,n=!1,o=null,p=null,q=function(a,b,c){var d="undefined"==typeof c?"https://"+(b.analytics_domain||"analytics.amp.live")+"/":"https://"+(b.analytics_domain||"analytics.amp.live")+"/"+c+"/",e=d+(a.reqType?a.reqType+"/":""),g=e+"_a.gif";return delete a.reqType,a.click_macro&&delete a.click_macro,a.referral_url&&delete a.referral_url,g+"?"+f.serialize(a)},r=function(b){var d=e.create("img",{src:b,width:0,height:0});a.appendChild(d),setTimeout(function(){a.removeChild(d)},c)},s=function(b){var c=e.create("script",{type:"text/javascript",src:"https://cdn.distiltag.com/api/v1/script/9BF5V8TXIUQUZLyUAdwi116DPQoAOFopNhO0PEou?AYAH_P1=view&AYAH_P2="+o+"&AYAH_P3="+b});a.appendChild(c)},t=function(a,b,c){a.uuid=o;var d=function(){return document.cookie="testcookie",document.cookie.indexOf("testcookie")!=-1};if(a.ce1=navigator.cookieEnabled,a.ce2=d(),r(q(a,b,c)),p){var e=JSON.parse(JSON.stringify(a)),f=null;if(c?f=c:(f=e.event,delete e.event),!f)return;delete e._,e.visitor={uuid:o,ip:"${keen.ip}",ua:"${keen.user_agent}",url:document.location.href,referrer:document.referrer},e.keen={timestamp:(new Date).toISOString(),addons:[{name:"keen:ip_to_geo",input:{ip:"visitor.ip"},output:"visitor.ip_info"},{name:"keen:ua_parser",input:{ua_string:"visitor.ua"},output:"visitor.ua_parsed"},{name:"keen:url_parser",input:{url:"visitor.url"},output:"visitor.url_parsed"},{name:"keen:referrer_parser",input:{page_url:"visitor.url",referrer_url:"visitor.referrer"},output:"visitor.referrer_parsed"},{name:"keen:date_time_parser",input:{date_time:"keen.timestamp"},output:"date_parsed"}]},p.recordEvent(f,e,function(a,b){})}},u=function(a,b){var c={id:a.campaign_id,bsid:a.banner_id,url:b&&b.referral_url&&""!==b.referral_url?b.referral_url:f.getPageUrl(),_:+new Date};for(var d in b)b.hasOwnProperty(d)&&!c[d]&&(c[d]=b[d]);return c};return{impression:function(a,b,c,d,e,f){var g=u(a,b);o=c,l=d,m=e,n=a.analytics_domain,g.event="impression",g.ct="banner",g.trapped=f,t(g,a),a.dfa&&a.dfa.impression_tracking_url&&r(k.currentTimestampToVariable(a.dfa.impression_tracking_url)),a.dfa&&a.dfa.ga_tracking_code&&"function"==typeof ga&&(ga("create",a.dfa.ga_tracking_code,"auto"),ga("send","pageview"))},trapped:function(a,b){var c=u(a,b);c.event="trapped",c.ct="banner",t(c,a)},view:function(a,b){if(!d){var c=u(a,b);c.event="view",c.ct="banner",c.unique=l,c.gained=m,d=!0,t(c,a),a.dfa&&a.dfa.view_tracking_url&&r(k.currentTimestampToVariable(a.dfa.view_tracking_url)),s(c.boostid||0)}},engagedView:function(a,b){if(!h){var c=u(a,b);c.event="engaged_view",c.ct="banner",h=!0,t(c,a)}},unmute:function(a,b){var c=u(a,b);c.ct="banner",i||(c.event="unmute",i=!0,t(c,a)),d||this.view(a,b),h||"vpaid"===a.size||this.engagedView(a,b)},urlToPixel:function(a){r(a)},watch:function(a,b,c,d){n&&(a.analytics_domain=n);var e={bid:a.banner_id,campaign_id:a.campaign_id,boostid:a.boost_id?a.boost_id:"",seconds:b,url:a&&a.referral_url&&""!==a.referral_url?a.referral_url:f.getPageUrl(),view:"undefined"!=typeof c&&c?1:0,engaged_view:"undefined"!=typeof d&&d?1:0,_:(new Date).getTime()};a.boostid&&(e.boostid=a.boostid),t(e,a,"count")},expand:function(a,b){var c=u(a,b);c.ct="banner",j||(c.event="expand",j=!0,t(c,a)),d||this.view(a,b),h||this.engagedView(a,b),a.dfa&&a.dfa.pixel_tracking_url&&r(k.currentTimestampToVariable(a.dfa.pixel_tracking_url))},videoImpression:function(a,b){var c=u(a);c.event="view",c.video_id=b,c.reqType="video"},timeSpentEvent:function(a,b,c){var d=u(a,b);d.event=c,d.ct="banner",t(d,a)},createProfilingIframe:function(a){var b=e.create("iframe",{src:"https://"+(a.analytics_domain||"analytics.amp.live")+"/profiling"});this.getElement().appendChild(b)},init:function(c){var d;a=e.create("div",{style:"display:none"}),c&&c.length?(c[0].scriptTag.parentNode||(c[0].scriptTag=document.getElementById("amplive-banner-"+c[0].config.banner_id)),d=c[0].scriptTag.parentNode):d=b.body,d.appendChild(a),p=new Keen({projectId:"582a23da8db53dfda8a783ad",writeKey:"12256562B64666A12FAB89E842DDF1BF53178E240945D3F5DC7F246B08E0CEB5E0B1B9CF07A542A3382F69CBA99816BB039853109105344E53811272EC0CB6A640B0E0AA8E7EA196B0CD67F9402EB5E90A58957E4039E70E2E686C4E54BDB6D9"})},getFrameParams:function(a){var b=u(a);return b=g.injectEnvParams(b)},getElement:function(){return a},currentTimestampToVariable:function(a){var b=Math.round((new Date).getTime()/1e3);return a.replace("[timestamp]",b)}}}(),l=function(){return{on:function(b,c){e.addEvent(a,"message",function(a){if(a.data&&"{"===(a.data+"").charAt(0))try{c(JSON.parse(a.data),a)}catch(a){}})},send:function(a,b,c,d){return d||(d=a.contentWindow),!(!window.JSON||!window.postMessage)&&void d.postMessage(JSON.stringify({fn:b,data:c}),"*")}}}(),m=function(){var a=null,b=null,c=!1,d={flite:{debug:function(a){e.createScript("http://ads.amplive.us.s3-website-us-west-1.amazonaws.com/c661bf51-8626-4920-9174-524e99fb3fdb/link_mock.js")},run:function(a){"undefined"!=typeof window.LINK?window.LINK(a,"_blank"):console.log("flite tracking function does not exists")}}};return{init:function(d,e){"url"==d.action.target&&"undefined"!=typeof d.action.custom_url_tracking&&"none"!==d.action.custom_url_tracking&&(a=d.action.custom_url_tracking,b=d.action.url),"undefined"!=typeof e&&e&&(c=!0,m.debug())},track:function(c){null!==a&&("undefined"!=typeof d[a]?c?d[a].debug(b):d[a].run(b):console.log("no tracking found for: "+a))},debug:function(){m.track(!0)}}}();!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){(function(c){function d(a,b,c,d,e){this.emit("error","This method has been deprecated. Check out DOM listeners: https://github.com/keen/keen-tracking.js#listeners");var f,g,h=a,i=h.currentTarget?h.currentTarget:h.srcElement||h.target,j=d||500,k=!1,l="";if(void 0!==i.getAttribute?l=i.getAttribute("target"):i.target&&(l=i.target),"_blank"!=l&&"blank"!=l||h.metaKey||(g=window.open("about:blank"),g.document.location=i.href),"A"===i.nodeName?f=function(){k||h.metaKey||"_blank"===l||"blank"===l||(k=!0,window.location=i.href)}:"FORM"===i.nodeName?f=function(){k||(k=!0,i.submit())}:this.trigger("error","#trackExternalLink method not attached to an <a> or <form> DOM element"),e&&(f=function(){k||(k=!0,e())}),this.recordEvent(b,c,f),setTimeout(f,j),!h.metaKey)return!1}var e=a("./"),f=a("./utils/each"),g=a("./utils/extend"),h=a("./utils/listener")(e);g(e.prototype,a("./record-events-browser")),g(e.prototype,a("./defer-events")),g(e.prototype,{extendEvent:a("./extend-events").extendEvent,extendEvents:a("./extend-events").extendEvents}),e.prototype.trackExternalLink=d,g(e.helpers,{getBrowserProfile:a("./helpers/getBrowserProfile"),getDatetimeIndex:a("./helpers/getDatetimeIndex"),getDomNodePath:a("./helpers/getDomNodePath"),getScreenProfile:a("./helpers/getScreenProfile"),getUniqueId:a("./helpers/getUniqueId"),getWindowProfile:a("./helpers/getWindowProfile")}),g(e.utils,{cookie:a("./utils/cookie"),deepExtend:a("./utils/deepExtend"),listener:h,timer:a("./utils/timer")}),e.listenTo=function(a){f(a,function(a,b){var c=b.split(" "),d=c[0],e=c.slice(1,c.length).join(" ");return h(e).on(d,a)})},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var b=this.length>>>0,c=Number(arguments[1])||0;for(c=c<0?Math.ceil(c):Math.floor(c),c<0&&(c+=b);c<b;c++)if(c in this&&this[c]===a)return c;return-1}),c&&(c.Keen=e),"undefined"!=typeof b&&b.exports&&(b.exports=e),"undefined"!=typeof define&&define.amd&&define("keen-tracking",[],function(){return e})}).call(this,"undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":10,"./defer-events":2,"./extend-events":3,"./helpers/getBrowserProfile":4,"./helpers/getDatetimeIndex":5,"./helpers/getDomNodePath":6,"./helpers/getScreenProfile":7,"./helpers/getUniqueId":8,"./helpers/getWindowProfile":9,"./record-events-browser":11,"./utils/cookie":13,"./utils/deepExtend":14,"./utils/each":15,"./utils/extend":16,"./utils/listener":17,"./utils/timer":19}],2:[function(a,b,c){function d(a,b){return 2!==arguments.length||"string"!=typeof a?void i.call(this,"Incorrect arguments provided to #deferEvent method"):(this.queue.events[a]=this.queue.events[a]||[],this.queue.events[a].push(b),this.queue.capacity++,this.emit("deferEvent",a,b),this)}function e(a){var b=this;return 1!==arguments.length||"object"!=typeof a?void i.call(this,"Incorrect arguments provided to #deferEvents method"):(j(a,function(a,c){b.queue.events[c]=b.queue.events[c]||[],b.queue.events[c]=b.queue.events[c].concat(a),b.queue.capacity=b.queue.capacity+a.length}),b.emit("deferEvents",a),b)}function f(a){return arguments.length?(this.queue.config.capacity=a?Number(a):0,this):this.queue.config.capacity}function g(a){return arguments.length?(this.queue.config.interval=a?Number(a):0,this):this.queue.config.interval}function h(){var a,b=this;return b.queue.capacity>0&&(a=JSON.parse(JSON.stringify(b.queue)),b.queue=k(),b.queue.options=a.options,b.emit("recordDeferredEvents",a.events),b.recordEvents(a.events,function(c,d){c?b.recordEvents(a.events):a=void 0})),b}function i(a){var b="Event(s) not deferred: "+a;this.emit("error",b)}var j=(a("./index"),a("./utils/each")),k=a("./utils/queue");b.exports={deferEvent:d,deferEvents:e,queueCapacity:f,queueInterval:g,recordDeferredEvents:h}},{"./index":10,"./utils/each":15,"./utils/queue":18}],3:[function(a,b,c){function d(a,b){return 2!==arguments.length||"string"!=typeof a||"object"!=typeof b&&"function"!=typeof b?void f.call(this,"Incorrect arguments provided to #extendEvent method"):(this.extensions.collections[a]=this.extensions.collections[a]||[],this.extensions.collections[a].push(b),this.emit("extendEvent",a,b),this)}function e(a){return 1!==arguments.length||"object"!=typeof a&&"function"!=typeof a?void f.call(this,"Incorrect arguments provided to #extendEvents method"):(this.extensions.events.push(a),this.emit("extendEvents",a),
this)}function f(a){var b="Event(s) not extended: "+a;this.emit("error",b)}function g(a,b){return b&&b.length>0&&i(b,function(b,c){var d="function"==typeof b?b():b;h(a,d)}),a}var h=a("./utils/deepExtend"),i=a("./utils/each");b.exports={extendEvent:d,extendEvents:e,getExtendedEventBody:g}},{"./utils/deepExtend":14,"./utils/each":15}],4:[function(a,b,c){function d(){return{cookies:"undefined"!=typeof navigator.cookieEnabled&&navigator.cookieEnabled,codeName:navigator.appCodeName,language:navigator.language,name:navigator.appName,online:navigator.onLine,platform:navigator.platform,useragent:navigator.userAgent,version:navigator.appVersion,screen:e(),window:f()}}var e=a("./getScreenProfile"),f=a("./getWindowProfile");b.exports=d},{"./getScreenProfile":7,"./getWindowProfile":9}],5:[function(a,b,c){function d(a){var b=a||new Date;return{hour_of_day:b.getHours(),day_of_week:parseInt(1+b.getDay()),day_of_month:b.getDate(),month:parseInt(1+b.getMonth()),year:b.getFullYear()}}b.exports=d},{}],6:[function(a,b,c){function d(a){if(!a.nodeName)return"";for(var b=[];null!=a.parentNode;){for(var c=0,d=0,e=0;e<a.parentNode.childNodes.length;e++){var f=a.parentNode.childNodes[e];f.nodeName==a.nodeName&&(f===a&&(d=c),c++)}a.hasAttribute("id")&&""!=a.id?b.unshift(a.nodeName.toLowerCase()+"#"+a.id):c>1?b.unshift(a.nodeName.toLowerCase()+":eq("+d+")"):b.unshift(a.nodeName.toLowerCase()),a=a.parentNode}return b.slice(1).join(" > ")}b.exports=d},{}],7:[function(a,b,c){function d(){var a,b;if("undefined"==typeof window||!window.screen)return{};a=["height","width","colorDepth","pixelDepth","availHeight","availWidth"],b={};for(var c=0;c<a.length;c++)b[a[c]]=window.screen[a[c]]?window.screen[a[c]]:null;return b.orientation={angle:window.screen.orientation?window.screen.orientation.angle:0,type:window.innerWidth>window.innerHeight?"landscape":"portrait"},b}b.exports=d},{}],8:[function(a,b,c){function d(){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return a.replace(/[xy]/g,function(a){var b=16*Math.random()|0,c="x"==a?b:3&b|8;return c.toString(16)})}b.exports=d},{}],9:[function(a,b,c){function d(){var a,b,c;return"undefined"==typeof document?{}:(a=document.body,b=document.documentElement,c={height:"innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,width:"innerWidth"in window?window.innerWidth:document.documentElement.offsetWidth,scrollHeight:Math.max(a.scrollHeight,a.offsetHeight,b.clientHeight,b.scrollHeight,b.offsetHeight)||null},window.screen&&(c.ratio={height:window.screen.availHeight?parseFloat((window.innerHeight/window.screen.availHeight).toFixed(2)):null,width:window.screen.availWidth?parseFloat((window.innerWidth/window.screen.availWidth).toFixed(2)):null}),c)}b.exports=d},{}],10:[function(a,b,c){var d=a("keen-core"),e=(a("./utils/each"),a("./utils/extend"),a("./utils/queue"));d.helpers=d.helpers||{},d.resources.events="{protocol}://{host}/3.0/projects/{projectId}/events",d.on("client",function(a){a.extensions={events:[],collections:{}},a.queue=e(),a.queue.on("flush",function(){a.recordDeferredEvents()})}),d.prototype.writeKey=function(a){return arguments.length?(this.config.writeKey=a?String(a):null,this):this.config.writeKey},d.prototype.setGlobalProperties=function(a){return d.log("This method has been deprecated. Check out #extendEvents: https://github.com/keen/keen-tracking.js#extend-events"),a&&"function"==typeof a?(this.config.globalProperties=a,this):void this.emit("error","Invalid value for global properties: "+a)},b.exports=d},{"./utils/each":15,"./utils/extend":16,"./utils/queue":18,"keen-core":22}],11:[function(a,b,c){function d(a,b,c,d){var e,f,g,n,s,v,w;if(e=this.url("events",encodeURIComponent(a)),f={},g=c,w="boolean"!=typeof d||d,h.call(this,g)){if(!a||"string"!=typeof a)return void i.call(this,"Collection name must be a string.",g);if(this.config.globalProperties&&(f=this.config.globalProperties(a)),t(f,b),v={},u.getExtendedEventBody(v,this.extensions.events),u.getExtendedEventBody(v,this.extensions.collections[a]),u.getExtendedEventBody(v,[f]),this.emit("recordEvent",a,v),!q.enabled)return i.call(this,"Keen.enabled is set to false.",g),!1;if(n=this.url("events",encodeURIComponent(a),{api_key:this.writeKey(),data:encodeURIComponent(r.encode(JSON.stringify(v))),modified:(new Date).getTime()}),s=n.length<j(),w)switch(this.config.requestType){case"xhr":l.call(this,"POST",e,v,g);break;case"beacon":s?p.call(this,n,g):k.call(this,e,v,"Beacon URL length exceeds current browser limit, and XHR is not supported.",g);break;default:s?o.call(this,n,g):k.call(this,e,v,"JSONp URL length exceeds current browser limit, and XHR is not supported.",g)}else s&&m(n);return c=g=null,this}}function e(a,b){var c,d,e,f=this;if(c=this.url("events"),d=b,b=null,h.call(this,d))return"object"!=typeof a||a instanceof Array?void i.call(this,"First argument must be an object",d):arguments.length>2?void i.call(this,"Incorrect arguments provided to #recordEvents method",d):(this.config.globalProperties&&s(a,function(b,c){s(b,function(b,d){var e=f.config.globalProperties(c);a[c][d]=t(e,b)})}),e={},s(a,function(a,b){e[b]=e[b]||[],s(a,function(a,c){var d={};u.getExtendedEventBody(d,f.extensions.events),u.getExtendedEventBody(d,f.extensions.collections[b]),u.getExtendedEventBody(d,[a]),e[b].push(d)})}),this.emit("recordEvents",e),q.enabled?(n()&&l.call(this,"POST",c,e,d),b=d=null,this):(i.call(this,"Keen.enabled is set to false.",d),!1))}function f(){this.emit("error","This method has been deprecated. Check out #recordEvent: https://github.com/keen/keen-tracking.js#record-a-single-event"),d.apply(this,arguments)}function g(){this.emit("error","This method has been deprecated. Check out #recordEvents: https://github.com/keen/keen-tracking.js#record-multiple-events"),e.apply(this,arguments)}function h(a){var b=a;return a=null,this.projectId()?!!this.writeKey()||(i.call(this,"Keen.Client is missing a writeKey property.",b),!1):(i.call(this,"Keen.Client is missing a projectId property.",b),!1)}function i(a,b){var c="Event(s) not recorded: "+a;this.emit("error",c),b&&(b.call(this,c,null),b=null)}function j(){return"undefined"!=typeof window&&(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>0)?2e3:16e3}function k(a,b,c,d){n()?l.call(this,"POST",a,b,d):i.call(this,c)}function l(a,b,c,d){var e,f=this,g=n(),h=d;d=null,g.onreadystatechange=function(){var a;if(4==g.readyState)if(g.status>=200&&g.status<300){try{a=JSON.parse(g.responseText)}catch(a){q.emit("error","Could not parse HTTP response: "+g.responseText),h&&h.call(f,g,null)}h&&a&&h.call(f,null,a)}else q.emit("error","HTTP request failed."),h&&h.call(f,g,null)},g.open(a,b,!0),g.setRequestHeader("Authorization",f.writeKey()),g.setRequestHeader("Content-Type","application/json"),c&&(e=JSON.stringify(c)),"GET"===a.toUpperCase()&&g.send(),"POST"===a.toUpperCase()&&g.send(e)}function m(a){var b=n();b&&(b.open("GET",a,!1),b.send(null))}function n(){var a="undefined"==typeof window?this:window;if(a.XMLHttpRequest&&("file:"!=a.location.protocol||!a.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}return!1}function o(a,b){function c(){f&&f.call(e,"An error occurred!",null)}function d(){window[j]=void 0;try{delete window[j]}catch(a){}i.removeChild(h)}var e=this,f=b,g=(new Date).getTime(),h=document.createElement("script"),i=document.getElementsByTagName("head")[0],j="keenJSONPCallback",k=!1;for(b=null,j+=g;j in window;)j+="a";window[j]=function(a){k!==!0&&(k=!0,f&&f.call(e,null,a),d())},h.src=a+"&jsonp="+j,i.appendChild(h),h.onreadystatechange=function(){k===!1&&"loaded"===this.readyState&&(k=!0,c(),d())},h.onerror=function(){k===!1&&(k=!0,c(),d())}}function p(a,b){var c=this,d=b,e=document.createElement("img"),f=!1;b=null,e.onload=function(){if(f=!0,"naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();d&&d.call(c)},e.onerror=function(){f=!0,d&&d.call(c,"An error occurred!",null)},e.src=a+"&c=clv1"}var q=a("./index"),r=a("./utils/base64"),s=a("./utils/each"),t=a("./utils/extend"),u=a("./extend-events");b.exports={recordEvent:d,recordEvents:e,addEvent:f,addEvents:g}},{"./extend-events":3,"./index":10,"./utils/base64":12,"./utils/each":15,"./utils/extend":16}],12:[function(a,b,c){b.exports=a("keen-core/lib/utils/base64")},{"keen-core/lib/utils/base64":23}],13:[function(a,b,c){function d(a){if(arguments.length)return this instanceof d==!1?new d(a):(this.config={key:a,options:{expires:365}},this.data=this.get(),this)}var e=a("js-cookie"),f=a("./extend");b.exports=d,d.prototype.get=function(a){var b={};return e.get(this.config.key)&&(b=e.getJSON(this.config.key)),a&&"object"==typeof b&&null!==typeof b?"undefined"!=typeof b[a]?b[a]:null:b},d.prototype.set=function(a,b){return arguments.length&&this.enabled()?("string"==typeof a&&2===arguments.length?this.data[a]=b?b:null:"object"==typeof a&&1===arguments.length&&f(this.data,a),e.set(this.config.key,this.data,this.config.options),this):this},d.prototype.expire=function(a){return a?e.set(this.config.key,this.data,f(this.config.options,{expires:a})):(e.remove(this.config.key),this.data={}),this},d.prototype.options=function(a){return arguments.length?(this.config.options="object"==typeof a?a:{},this):this.config.options},d.prototype.enabled=function(){return navigator.cookieEnabled}},{"./extend":16,"js-cookie":21}],14:[function(a,b,c){function d(a){for(var b=1;b<arguments.length;b++)if(a instanceof Array&&arguments[b]instanceof Array)for(var c=0;c<arguments[b].length;c++)a.indexOf(arguments[b][c])<0&&a.push(arguments[b][c]);else for(var f in arguments[b])"undefined"!=typeof a[f]&&"object"==typeof arguments[b][f]&&null!==arguments[b][f]?d(a[f],e(arguments[b][f])):void 0!==arguments[b][f]&&(a[f]=e(arguments[b][f]));return a}function e(a){return JSON.parse(JSON.stringify(a))}b.exports=d},{}],15:[function(a,b,c){b.exports=a("keen-core/lib/utils/each")},{"keen-core/lib/utils/each":24}],16:[function(a,b,c){b.exports=a("keen-core/lib/utils/extend")},{"keen-core/lib/utils/extend":25}],17:[function(a,b,c){function d(a,b){document.addEventListener?document.addEventListener(a,b,!1):document.attachEvent("on"+a,b)}function e(a,b){for(var c=(a.parentNode||document).querySelectorAll(b)||[],d=c.length;d--;)if(c[d]==a)return!0;return!1}function f(a,b,c){var d,e,f=500;return void 0!==b.getAttribute?d=b.getAttribute("target"):b.target&&(d=b.target),e=c(a),"boolean"==typeof e&&e===!1||a.defaultPrevented||a.returnValue===!1?(a.preventDefault&&a.preventDefault(),a.returnValue=!1,!1):("_blank"===d||"blank"===d||a.metaKey||(a.preventDefault&&a.preventDefault(),a.returnValue=!1,setTimeout(function(){window.location=b.href},f)),!1)}function g(a,b,c){var d=500,e=c(a);return"boolean"==typeof e&&e===!1||a.defaultPrevented||a.returnValue===!1?(a.preventDefault&&a.preventDefault(),a.returnValue=!1,!1):(a.preventDefault&&a.preventDefault(),a.returnValue=!1,setTimeout(function(){b.submit()},d),!1)}var h=(a("component-emitter"),a("./each"));b.exports=function(a){function b(a){if(a)return this instanceof b==!1?new b(a):(this.selector=a,this)}function c(b){return function(c){var d,i;d=c||window.event,i=d.target||d.srcElement,"undefined"!==a.domListeners[b]&&h(a.domListeners[b],function(a,c){e(i,c)?h(a,function(a,c){"click"===b&&"A"===i.nodeName?f(d,i,a):"submit"===b&&"FORM"===i.nodeName?g(d,i,a):a(d)}):"window"===c&&h(a,function(a,b){a(d)})})}}return a.domListeners=a.domListeners||{},b.prototype.on=function(b,e){var f=this;return 2!==arguments.length||"string"!=typeof b||"function"!=typeof e?this:("undefined"==typeof a.domListeners[b]&&(d(b,c(b)),a.domListeners[b]={}),a.domListeners[b][f.selector]=a.domListeners[b][f.selector]||[],a.domListeners[b][f.selector].push(e),f)},b.prototype.once=function(a,b){function c(){return d.off(a,c),b.apply(d,arguments)}var d=this;return c.fn=b,d.on(a,c),d},b.prototype.off=function(b,c){var d=this,e=[];if(2===arguments.length)h(a.domListeners[b][d.selector],function(a,b){a!==c&&a.fn!==c&&e.push(a)}),a.domListeners[b][d.selector]=e;else if(1===arguments.length)try{delete a.domListeners[b][d.selector]}catch(c){a.domListeners[b][d.selector]=[]}else h(a.domListeners,function(b,c){try{delete a.domListeners[c][d.selector]}catch(b){a.domListeners[c][d.selector]=function(){}}});return d},b}},{"./each":15,"component-emitter":20}],18:[function(a,b,c){function d(){var a=this;return this instanceof d==!1?new d:(a.capacity=0,a.interval=0,a.config={capacity:5e3,interval:15},a.events={},setInterval(function(){a.interval++,e.call(a)},1e3),a)}function e(){(this.capacity>0&&this.interval>=this.config.interval||this.capacity>=this.config.capacity)&&(this.emit("flush"),this.interval=0)}var f=a("component-emitter");b.exports=d,f(d.prototype)},{"component-emitter":20}],19:[function(a,b,c){function d(a){return this instanceof d==!1?new d(a):(this.count=a||0,this)}b.exports=d,d.prototype.start=function(){var a=this;return this.pause(),this.interval=setInterval(function(){a.count++},1e3),this},d.prototype.pause=function(){return clearInterval(this.interval),this},d.prototype.value=function(){return this.count},d.prototype.clear=function(){return this.count=0,this}},{}],20:[function(a,b,c){function d(a){if(a)return e(a)}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}"undefined"!=typeof b&&(b.exports=d),d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;d<e;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],21:[function(a,b,c){!function(a){if("object"==typeof c)b.exports=a();else{var d=window.Cookies,e=window.Cookies=a();e.noConflict=function(){return window.Cookies=d,e}}}(function(){function a(){for(var a=0,b={};a<arguments.length;a++){var c=arguments[a];for(var d in c)b[d]=c[d]}return b}function b(c){function d(b,e,f){var g;if(arguments.length>1){if(f=a({path:"/"},d.defaults,f),"number"==typeof f.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*f.expires),f.expires=h}try{g=JSON.stringify(e),/^[\{\[]/.test(g)&&(e=g)}catch(a){}return e=c.write?c.write(e,b):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=encodeURIComponent(String(b)),b=b.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),b=b.replace(/[\(\)]/g,escape),document.cookie=[b,"=",e,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join("")}b||(g={});for(var i=document.cookie?document.cookie.split("; "):[],j=/(%[0-9A-Z]{2})+/g,k=0;k<i.length;k++){var l=i[k].split("="),m=l[0].replace(j,decodeURIComponent),n=l.slice(1).join("=");'"'===n.charAt(0)&&(n=n.slice(1,-1));try{if(n=c.read?c.read(n,m):c(n,m)||n.replace(j,decodeURIComponent),this.json)try{n=JSON.parse(n)}catch(a){}if(b===m){g=n;break}b||(g[m]=n)}catch(a){}}return g}return d.get=d.set=d,d.getJSON=function(){return d.apply({json:!0},[].slice.call(arguments))},d.defaults={},d.remove=function(b,c){d(b,"",a(c,{expires:-1}))},d.withConverter=b,d}return b(function(){})})},{}],22:[function(a,b,c){(function(c){var d=a("./utils/each"),e=a("./utils/extend"),f=a("./utils/parse-params"),g=a("./utils/serialize"),h=a("component-emitter");(function(a){function c(a){return this instanceof c==!1?new c(a):(this.configure(a),c.debug&&this.on("error",c.log),this.emit("ready"),void c.emit("client",this))}function i(a){return c.loaded||"undefined"==typeof document?void a():(null==document.readyState&&document.addEventListener&&(document.addEventListener("DOMContentLoaded",function a(){document.removeEventListener("DOMContentLoaded",a,!1),document.readyState="complete"},!1),document.readyState="loading"),void j(a))}function j(a){/in/.test(document.readyState)?setTimeout(function(){j(a)},9):a()}var k="undefined"!=typeof a.Keen?a.Keen:void 0;h(c),h(c.prototype),e(c,{debug:!1,enabled:!0,loaded:!1,resources:{base:"{protocol}://{host}",version:"{protocol}://{host}/3.0",projects:"{protocol}://{host}/3.0/projects",projectId:"{protocol}://{host}/3.0/projects/{projectId}"},utils:{each:d,extend:e,parseParams:f,serialize:g},version:"1.0.4"}),c.log=function(a){c.debug&&"object"==typeof console&&console.log("[Keen]",a)},c.noConflict=function(){return a.Keen=k,c},c.ready=function(a){c.loaded?a():c.once("ready",a)},c.prototype.configure=function(a){var b=a||{};return this.config=this.config||{projectId:void 0,writeKey:void 0,host:"api.keen.io",protocol:"https",requestType:"jsonp",resources:e({},c.resources)},"undefined"!=typeof window&&window.navigator.userAgent.indexOf("MSIE")>-1&&(b.protocol=document.location.protocol.replace(":","")),b.host&&b.host.replace(/.*?:\/\//g,""),e(this.config,b),this},c.prototype.masterKey=function(a){return arguments.length?(this.config.masterKey=a?String(a):null,this):this.config.masterKey},c.prototype.projectId=function(a){return arguments.length?(this.config.projectId=a?String(a):null,this):this.config.projectId},c.prototype.resources=function(a){if(!arguments.length)return this.config.resources;var b=this;return"object"==typeof a&&d(a,function(a,c){b.config.resources[c]=a?a:null}),b},c.prototype.url=function(a){var b,e=Array.prototype.slice.call(arguments,1),f=c.resources.base||"{protocol}://{host}";return b=a&&"string"==typeof a?this.config.resources[a]?this.config.resources[a]:f+a:f,d(this.config,function(a,c){"object"!=typeof a&&(b=b.replace("{"+c+"}",a))}),d(e,function(a,c){"string"==typeof a?b+="/"+a:"object"==typeof a&&(b+="?",d(a,function(a,c){b+=c+"="+a+"&"}),b=b.slice(0,-1))}),b},i(function(){c.loaded=!0,c.emit("ready")}),a&&(a.Keen=c),"undefined"!=typeof b&&b.exports&&(b.exports=c)}).call(this,"undefined"!=typeof window?window:"undefined"!=typeof c?c:"undefined"!=typeof self?self:{})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils/each":24,"./utils/extend":25,"./utils/parse-params":26,"./utils/serialize":27,"component-emitter":20}],23:[function(a,b,c){b.exports={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0,k=this.map;for(a=this.utf8.encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=isNaN(c)?64:(15&c)<<2|d>>6,h=isNaN(c)||isNaN(d)?64:63&d,i=i+k.charAt(e)+k.charAt(f)+k.charAt(g)+k.charAt(h);return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0,k=this.map,l=String.fromCharCode;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)b=k.indexOf(a.charAt(j++)),c=k.indexOf(a.charAt(j++)),d=k.indexOf(a.charAt(j++)),e=k.indexOf(a.charAt(j++)),f=b<<2|c>>4,g=(15&c)<<4|d>>2,h=(3&d)<<6|e,i=i+(l(f)+(64!=d?l(g):""))+(64!=e?l(h):"");return this.utf8.decode(i)},utf8:{encode:function(a){for(var b,c="",d=0,e=String.fromCharCode;d<a.length;)b=a.charCodeAt(d++),c+=b<128?e(b):b>127&&b<2048?e(b>>6|192)+e(63&b|128):e(b>>12|224)+e(b>>6&63|128)+e(63&b|128);return c},decode:function(a){for(var b,c,d="",e=0,f=String.fromCharCode;e<a.length;)c=a.charCodeAt(e),d+=c<128?[f(c),e++][0]:c>191&&c<224?[f((31&c)<<6|63&(b=a.charCodeAt(e+1))),e+=2][0]:[f((15&c)<<12|(63&(b=a.charCodeAt(e+1)))<<6|63&(c3=a.charCodeAt(e+2))),e+=3][0];return d}}}},{}],24:[function(a,b,c){function d(a,b,c){var d;if(!a)return 0;if(c=c?c:a,a instanceof Array){for(d=0;d<a.length;d++)if(b.call(c,a[d],d,a)===!1)return 0}else for(d in a)if(a.hasOwnProperty(d)&&b.call(c,a[d],d,a)===!1)return 0;return 1}b.exports=d},{}],25:[function(a,b,c){function d(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])a[c]=arguments[b][c];return a}b.exports=d},{}],26:[function(a,b,c){function d(a){for(var b,c={},d=/\+/g,e=/([^&=]+)=?([^&]*)/g,f=function(a){return decodeURIComponent(a.replace(d," "))},g=a.split("?")[1];b=e.exec(g);)c[f(b[1])]=f(b[2]);return c}b.exports=d},{}],27:[function(a,b,c){function d(a){var b=[];return e(a,function(a,c){"string"!=typeof a&&(a=JSON.stringify(a)),b.push(c+"="+encodeURIComponent(a))}),b.join("&")}var e=a("./each");a("./extend");b.exports=d},{"./each":24,"./extend":25}]},{},[1]);var n={add:function(a,b){return h.add(a,b)},analytics:k,overlay:i,buster:g};return function(){var b=a.INTERCAST_QUEUE;g.init(b),k.init(b),b&&f.each(b,function(a){n.add(a.config,a.scriptTag)}),e.addEvent(a,"beforeunload",h.sendBannerTime),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga")}(),n}(window,document);